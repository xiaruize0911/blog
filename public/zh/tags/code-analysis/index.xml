<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Code Analysis on xiaruize&#39;s Blog</title>
    <link>http://localhost:1313/zh/tags/code-analysis/</link>
    <description>Recent content in Code Analysis on xiaruize&#39;s Blog</description>
    <generator>Hugo -- 0.150.0</generator>
    <language>zh</language>
    <lastBuildDate>Sun, 07 Dec 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/zh/tags/code-analysis/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>å¤§å­¦æ’ååç«¯ï¼šä»£ç æ·±åº¦è§£æï¼ˆç¬¬ä¸€éƒ¨åˆ†ï¼‰</title>
      <link>http://localhost:1313/zh/post/university-ranking-backend-part-1/</link>
      <pubDate>Sun, 07 Dec 2025 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/zh/post/university-ranking-backend-part-1/</guid>
      <description>&lt;p&gt;åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ &lt;strong&gt;å¤§å­¦æ’ååç«¯&lt;/strong&gt; çš„ä»£ç ç»“æ„ã€‚æˆ‘ä»¬å°†æ¢ç´¢åº”ç”¨ç¨‹åºçš„å…¥å£ç‚¹ä»¥åŠæ”¯æŒå¤§å­¦æœç´¢å’Œè¿‡æ»¤ç³»ç»Ÿçš„æ ¸å¿ƒé€»è¾‘ã€‚&lt;/p&gt;
&lt;h2 id=&#34;-é«˜çº§æ¦‚è¿°&#34;&gt;ğŸ—ï¸ é«˜çº§æ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;åç«¯éµå¾ªæ ‡å‡†çš„ &lt;strong&gt;æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ (MVC)&lt;/strong&gt; æ¨¡å¼ï¼ˆå…¶ä¸­â€œè§†å›¾â€æ˜¯ JSON è¾“å‡ºï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;app.py&lt;/code&gt;&lt;/strong&gt;ï¼šåˆå§‹åŒ–åº”ç”¨ç¨‹åºå¹¶æ³¨å†Œè·¯ç”±çš„å…¥å£ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;routes/&lt;/code&gt;&lt;/strong&gt;ï¼šå¤„ç† HTTP è¯·æ±‚ï¼Œè§£æå‚æ•°ï¼Œå¹¶å°†é€»è¾‘å§”æ‰˜ç»™æ¨¡å‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;models/&lt;/code&gt;&lt;/strong&gt;ï¼šåŒ…å«ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åº“äº¤äº’ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;db/&lt;/code&gt;&lt;/strong&gt;ï¼šç®¡ç† SQLite æ•°æ®åº“è¿æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;1-å…¥å£ç‚¹apppy&#34;&gt;1. å…¥å£ç‚¹ï¼š&lt;code&gt;app.py&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªæ–‡ä»¶æ˜¯åº”ç”¨ç¨‹åºçš„å¿ƒè„ã€‚å®ƒè®¾ç½® Flask æœåŠ¡å™¨ï¼Œé…ç½®å®‰å…¨æ€§ï¼Œå¹¶è¿æ¥æ‰€æœ‰ç§»åŠ¨éƒ¨ä»¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‡½æ•°å…¨å±€èŒƒå›´--if-__name__--__main__&#34;&gt;å‡½æ•°ï¼šå…¨å±€èŒƒå›´ / &lt;code&gt;if __name__ == &amp;quot;__main__&amp;quot;:&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¾“å…¥&lt;/strong&gt;ï¼šæ— ï¼ˆåœ¨è„šæœ¬å¯åŠ¨æ—¶æ‰§è¡Œï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€»è¾‘&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åˆå§‹åŒ–&lt;/strong&gt;ï¼šåˆ›å»º &lt;code&gt;Flask&lt;/code&gt; åº”ç”¨ç¨‹åºå®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CORS è®¾ç½®&lt;/strong&gt;ï¼šåº”ç”¨ &lt;code&gt;CORS(app)&lt;/code&gt; ä»¥å…è®¸è·¨æºè¯·æ±‚ã€‚è¿™è‡³å…³é‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬çš„å‰ç«¯æ˜¯å•ç‹¬æ‰˜ç®¡çš„ï¼Œéœ€è¦æƒé™æ‰èƒ½ä¸æ­¤ API å¯¹è¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è“å›¾æ³¨å†Œ&lt;/strong&gt;ï¼šå®ƒæ³¨å†Œäº†ä¸‰ä¸ªä¸»è¦è“å›¾ã€‚å°†è“å›¾è§†ä¸ºå‘åº”ç”¨ç¨‹åºæ·»åŠ ç‰¹å®šè·¯ç”±çš„â€œæ’ä»¶â€ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;universities_bp&lt;/code&gt;ï¼ˆåœ¨ &lt;code&gt;/universities&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dropdown_bp&lt;/code&gt;ï¼ˆåœ¨ &lt;code&gt;/dropdown&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ranking_detail_bp&lt;/code&gt;ï¼ˆåœ¨ &lt;code&gt;/subject_rankings&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰§è¡Œ&lt;/strong&gt;ï¼šåœ¨ç«¯å£ 10000 ä¸Šå¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¾“å‡º&lt;/strong&gt;ï¼šä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„ HTTP æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;flask&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Flask&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;routes.universities&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;universities_bp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;routes.dropdown&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dropdown_bp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;routes.ranking_detail&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ranking_detail_bp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;flask_cors&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CORS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Flask&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;vm&#34;&gt;__name__&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;CORS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Register blueprints&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;register_blueprint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;universities_bp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;url_prefix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/universities&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;register_blueprint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dropdown_bp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;url_prefix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/dropdown&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;register_blueprint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ranking_detail_bp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;url_prefix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/subject_rankings&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;vm&#34;&gt;__name__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0.0.0.0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;2-æ ¸å¿ƒé€»è¾‘modelsuniversitiespy&#34;&gt;2. æ ¸å¿ƒé€»è¾‘ï¼š&lt;code&gt;models/universities.py&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªæ–‡ä»¶åŒ…å«æœç´¢åŠŸèƒ½çš„â€œå¤§è„‘â€ã€‚å®ƒå¤„ç†æœç´¢ã€è¿‡æ»¤å’Œæ’åºå¤§å­¦çš„å¤æ‚é€»è¾‘ã€‚&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
