<!doctype html><html lang=zh dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="noindex, nofollow"><title>University Ranking Backendï¼šä»£ç æ·±åº¦è§£æï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰ | xiaruize's Blog</title><meta name=keywords content="Python,Flask,Backend,ä»£ç åˆ†æ,æ•°æ®å·¥ç¨‹"><meta name=description content='åœ¨ ç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¢è®¨äº†æ ¸å¿ƒæœç´¢é€»è¾‘å’Œ API ç»“æ„ã€‚æœ¬ç¯‡æ·±å…¥ æ•°æ®å±‚â€”â€”å¦‚ä½•è§„èŒƒåŒ–ã€å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ã€‚æˆ‘ä»¬è¿˜çœ‹çœ‹é©±åŠ¨åç«¯åŠŸèƒ½çš„å®ç”¨è„šæœ¬ã€‚
1. æ•°æ®"èƒ¶æ°´"ï¼šutils/normalize_name.py
ä»å¤šä¸ªæ¥æºï¼ˆQSã€US Newsã€Nicheï¼‰èšåˆæ•°æ®çš„æœ€å¤§æŒ‘æˆ˜æ˜¯å®ƒä»¬å‘½åå¤§å­¦çš„æ–¹å¼ä¸ä¸€ã€‚&ldquo;MIT&rdquo; åœ¨ä¸€ä¸ªæ•°æ®é›†ä¸­æ˜¯"Massachusetts Institute of Technology"ï¼Œåœ¨å¦ä¸€ä¸ªå¯èƒ½æ˜¯"Mass Inst of Tech"ã€‚
è¿™ä¸ªæ–‡ä»¶åŒ…å«æ ‡å‡†åŒ–åç§°çš„é€»è¾‘ï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å°†æ•°æ®é“¾æ¥åœ¨ä¸€èµ·ã€‚
å‡½æ•°ï¼šnormalize_name

è¾“å…¥ï¼šnameï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œå¦‚"University of California, Berkeley (UCB)"
é€»è¾‘ï¼š

è½¬å°å†™ï¼šå…¨éƒ¨è½¬å°å†™é¿å…å¤§å°å†™ä¸åŒ¹é…
æ¸…ç†ï¼šåˆ é™¤æ‹¬å·å†…æ–‡æœ¬ï¼ˆå¦‚ç¼©å†™ï¼‰å’Œæ ‡ç‚¹
åˆ«åæ£€æŸ¥ï¼šæ£€æŸ¥å·²çŸ¥åˆ«åå­—å…¸ï¼ˆALIASESï¼‰ã€‚è‹¥è¾“å…¥"mit"ï¼Œè‡ªåŠ¨è½¬æ¢ä¸º"massachusetts institute of technology"


è¾“å‡ºï¼šæ¸…æ´ã€æ ‡å‡†åŒ–çš„å­—ç¬¦ä¸²ï¼ˆå¦‚"university of california berkeley"ï¼‰

def normalize_name(name: str) -> str:
    # è½¬å°å†™
    name = name.lower()
    # åˆ é™¤æ‹¬å·å†…æ–‡æœ¬ï¼Œå¦‚"(MIT)"
    name = re.sub(r&#39;\(.*?\)&#39;, &#39;&#39;, name)
    # åˆ é™¤æ ‡ç‚¹
    name = re.sub(r&#39;[^\w\s]&#39;, &#39;&#39;, name)
    # è§„èŒƒåŒ–ç©ºæ ¼
    name = re.sub(r&#39;\s+&#39;, &#39; &#39;, name)
    if name in ALIASES:
        # è‹¥åç§°æ˜¯åˆ«åï¼Œæ›¿æ¢ä¸ºå…¨å
        name = ALIASES[name]
    return name.strip()

2. è¯¦ç»†èµ„æ–™é€»è¾‘ï¼šmodels/university.py
è™½ç„¶ models/universities.pyï¼ˆå¤æ•°ï¼‰å¤„ç†åˆ—è¡¨å’Œæœç´¢ï¼Œä½†è¿™ä¸ªæ–‡ä»¶å¤„ç† å•ä¸€ å¤§å­¦èµ„æ–™çš„æ·±åº¦æŒ–æ˜ã€‚
å‡½æ•°ï¼šget_university_by_id
è¿™ä¸ªå‡½æ•°å¾ˆæœ‰è¶£ï¼Œå› ä¸ºå®ƒå¿…é¡»ä» è®¸å¤š ä¸åŒè¡¨æ”¶é›†æ•°æ®æ„å»ºå®Œæ•´èµ„æ–™ã€‚

è¾“å…¥ï¼šuniv_idï¼ˆæ•´æ•°ï¼‰
é€»è¾‘ï¼š

åŸºç¡€ä¿¡æ¯ï¼šä» Universities è¡¨è·å–ä¸»è¦ä¿¡æ¯ï¼ˆåç§°ã€ä½ç½®ã€ç…§ç‰‡ï¼‰
ç¿»è¯‘ï¼šä¸ University_names_en_to_zh è”æ¥è·ä¸­æ–‡åç§°
åŠ¨æ€æ’åæ£€ç´¢ï¼š

æŸ¥è¯¢ sqlite_master æŸ¥æ‰¾æ•°æ®åº“ä¸­æ‰€æœ‰ä»¥ _Rankings ç»“å°¾çš„è¡¨
éå†æ¯å¼ æ’åè¡¨æ£€æŸ¥è¯¥å¤§å­¦æ˜¯å¦åœ¨å…¶ä¸­
è¿™ä½¿ç³»ç»Ÿæ˜“äºæ‰©å±•â€”â€”è‹¥æ·»åŠ æ–°æ’åè¡¨ï¼ˆå¦‚"Mars_University_Rankings"ï¼‰ï¼Œè¿™å‡½æ•°è‡ªåŠ¨ä½¿ç”¨å®ƒï¼Œæ— éœ€ä»£ç æ”¹åŠ¨


ç»Ÿè®¡æ•°æ®ï¼šä» UniversityStats è·å–ç»Ÿè®¡ä¿¡æ¯ï¼ˆå­¦ç”Ÿæ•°ç­‰ï¼‰


è¾“å‡ºï¼šåŒ…å«è¯¥å¤§å­¦å·²çŸ¥æ‰€æœ‰ä¿¡æ¯çš„å¤§å­—å…¸

def get_university_by_id(univ_id):
    conn = get_db_connection()
    
    # ç¬¬ä¸€æ­¥ï¼šè·å–å¤§å­¦åŸºç¡€ä¿¡æ¯
    cur = conn.execute("""
        SELECT Universities.*, T.chinese_name 
        FROM Universities 
        LEFT JOIN University_names_en_to_zh AS T ON Universities.id = T.id 
        WHERE Universities.id = ?
    """, (univ_id,))
    row = cur.fetchone()
    if not row:
        return None

    university = dict(row)
    normalized_name = university[&#39;normalized_name&#39;]

    # ç¬¬äºŒæ­¥ï¼šä»æ‰€æœ‰ *_Rankings è¡¨è·å–æ’å
    cur = conn.execute("SELECT name FROM sqlite_master WHERE type=&#39;table&#39; AND name LIKE &#39;%_Rankings&#39;")
    ranking_tables = [r["name"] for r in cur.fetchall()]
    rankings = []
    for table in ranking_tables:
        try:
            cur = conn.execute(
                f"""SELECT subject, source, rank_value 
                    FROM "{table}" WHERE normalized_name = ?""",
                (normalized_name,)
            )
            rankings += [dict(r) for r in cur.fetchall()]
        except Exception as e:
            # è·³è¿‡æ ¼å¼é”™è¯¯æˆ–ä¸åŒ¹é…çš„è¡¨
            continue
    # ç¬¬ä¸‰æ­¥ï¼šä» UniversityStats è·å–ç»Ÿè®¡æ•°æ®
    cur = conn.execute(
        "SELECT type, count, year FROM UniversityStats WHERE normalized_name = ?",
        (normalized_name,)
    )
    stats = [dict(r) for r in cur.fetchall()]
    
    conn.close()

    rankings = sorted(rankings, key= lambda x: -1 if "global" in x["subject"] or "World" in x["subject"] else x["rank_value"])

    # åˆå¹¶æ‰€æœ‰ä¿¡æ¯
    university["rankings"] = rankings
    university["stats"] = stats
    return university

3. å­¦ç§‘æ’åï¼šroutes/ranking_detail.py
è¿™ä¸ªè·¯ç”±å¤„ç†ç‰¹å®šå­¦ç§‘æ’åï¼Œå¦‚"è®¡ç®—æœºç§‘å­¦"æˆ–"åŒ»å­¦"ã€‚'><meta name=author content><link rel=canonical href=http://localhost:1313/zh/post/university-ranking-backend-part-2/><link crossorigin=anonymous href=/assets/css/stylesheet.e1f5c4cae44599655f7ff95195ff89c8cb3adbda94f2b1581a434ab2b4d4e6cf.css integrity="sha256-4fXEyuRFmWVff/lRlf+JyMs629qU8rFYGkNKsrTU5s8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/post/university-ranking-backend-part-2/><link rel=alternate hreflang=zh href=http://localhost:1313/zh/post/university-ranking-backend-part-2/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css integrity=sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js integrity=sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"\\[",right:"\\]",display:!0},{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1}],throwOnError:!0})})</script></head><body id="
    top"><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/zh/ accesskey=h title="xiaruize's Blog (Alt + H)">xiaruize's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=http://localhost:1313/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/zh/categories/ title=categories><span>categories</span></a></li><li><a href=http://localhost:1313/zh/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">University Ranking Backendï¼šä»£ç æ·±åº¦è§£æï¼ˆç¬¬äºŒéƒ¨åˆ†ï¼‰</h1><div class=post-meta><span title='2025-12-07 00:00:00 +0000 UTC'>2025å¹´12æœˆ7æ—¥</span>&nbsp;|&nbsp;è¯­è¨€:<ul class=i18n_list><li><a href=http://localhost:1313/post/university-ranking-backend-part-2/>En</a></li></ul></div></header><div class=post-content><p>åœ¨ <a href=http://localhost:1313/zh/post/university-ranking-backend-part-1/>ç¬¬ä¸€éƒ¨åˆ†</a>ï¼Œæˆ‘ä»¬æ¢è®¨äº†æ ¸å¿ƒæœç´¢é€»è¾‘å’Œ API ç»“æ„ã€‚æœ¬ç¯‡æ·±å…¥ <strong>æ•°æ®å±‚</strong>â€”â€”å¦‚ä½•è§„èŒƒåŒ–ã€å­˜å‚¨å’Œæ£€ç´¢æ•°æ®ã€‚æˆ‘ä»¬è¿˜çœ‹çœ‹é©±åŠ¨åç«¯åŠŸèƒ½çš„å®ç”¨è„šæœ¬ã€‚</p><h2 id=1-æ•°æ®èƒ¶æ°´utilsnormalize_namepy>1. æ•°æ®"èƒ¶æ°´"ï¼š<code>utils/normalize_name.py</code><a hidden class=anchor aria-hidden=true href=#1-æ•°æ®èƒ¶æ°´utilsnormalize_namepy>#</a></h2><p>ä»å¤šä¸ªæ¥æºï¼ˆQSã€US Newsã€Nicheï¼‰èšåˆæ•°æ®çš„æœ€å¤§æŒ‘æˆ˜æ˜¯å®ƒä»¬å‘½åå¤§å­¦çš„æ–¹å¼ä¸ä¸€ã€‚&ldquo;MIT&rdquo; åœ¨ä¸€ä¸ªæ•°æ®é›†ä¸­æ˜¯"Massachusetts Institute of Technology"ï¼Œåœ¨å¦ä¸€ä¸ªå¯èƒ½æ˜¯"Mass Inst of Tech"ã€‚</p><p>è¿™ä¸ªæ–‡ä»¶åŒ…å«æ ‡å‡†åŒ–åç§°çš„é€»è¾‘ï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½å°†æ•°æ®é“¾æ¥åœ¨ä¸€èµ·ã€‚</p><h3 id=å‡½æ•°normalize_name>å‡½æ•°ï¼š<code>normalize_name</code><a hidden class=anchor aria-hidden=true href=#å‡½æ•°normalize_name>#</a></h3><ul><li><strong>è¾“å…¥</strong>ï¼š<code>name</code>ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œå¦‚"University of California, Berkeley (UCB)"</li><li><strong>é€»è¾‘</strong>ï¼š<ol><li><strong>è½¬å°å†™</strong>ï¼šå…¨éƒ¨è½¬å°å†™é¿å…å¤§å°å†™ä¸åŒ¹é…</li><li><strong>æ¸…ç†</strong>ï¼šåˆ é™¤æ‹¬å·å†…æ–‡æœ¬ï¼ˆå¦‚ç¼©å†™ï¼‰å’Œæ ‡ç‚¹</li><li><strong>åˆ«åæ£€æŸ¥</strong>ï¼šæ£€æŸ¥å·²çŸ¥åˆ«åå­—å…¸ï¼ˆ<code>ALIASES</code>ï¼‰ã€‚è‹¥è¾“å…¥"mit"ï¼Œè‡ªåŠ¨è½¬æ¢ä¸º"massachusetts institute of technology"</li></ol></li><li><strong>è¾“å‡º</strong>ï¼šæ¸…æ´ã€æ ‡å‡†åŒ–çš„å­—ç¬¦ä¸²ï¼ˆå¦‚"university of california berkeley"ï¼‰</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>normalize_name</span><span class=p>(</span><span class=n>name</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># è½¬å°å†™</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=n>name</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># åˆ é™¤æ‹¬å·å†…æ–‡æœ¬ï¼Œå¦‚&#34;(MIT)&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\(.*?\)&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># åˆ é™¤æ ‡ç‚¹</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;[^\w\s]&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=c1># è§„èŒƒåŒ–ç©ºæ ¼</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\s+&#39;</span><span class=p>,</span> <span class=s1>&#39; &#39;</span><span class=p>,</span> <span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>ALIASES</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=c1># è‹¥åç§°æ˜¯åˆ«åï¼Œæ›¿æ¢ä¸ºå…¨å</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span> <span class=o>=</span> <span class=n>ALIASES</span><span class=p>[</span><span class=n>name</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>name</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
</span></span></code></pre></div><hr><h2 id=2-è¯¦ç»†èµ„æ–™é€»è¾‘modelsuniversitypy>2. è¯¦ç»†èµ„æ–™é€»è¾‘ï¼š<code>models/university.py</code><a hidden class=anchor aria-hidden=true href=#2-è¯¦ç»†èµ„æ–™é€»è¾‘modelsuniversitypy>#</a></h2><p>è™½ç„¶ <code>models/universities.py</code>ï¼ˆå¤æ•°ï¼‰å¤„ç†åˆ—è¡¨å’Œæœç´¢ï¼Œä½†è¿™ä¸ªæ–‡ä»¶å¤„ç† <em>å•ä¸€</em> å¤§å­¦èµ„æ–™çš„æ·±åº¦æŒ–æ˜ã€‚</p><h3 id=å‡½æ•°get_university_by_id>å‡½æ•°ï¼š<code>get_university_by_id</code><a hidden class=anchor aria-hidden=true href=#å‡½æ•°get_university_by_id>#</a></h3><p>è¿™ä¸ªå‡½æ•°å¾ˆæœ‰è¶£ï¼Œå› ä¸ºå®ƒå¿…é¡»ä» <em>è®¸å¤š</em> ä¸åŒè¡¨æ”¶é›†æ•°æ®æ„å»ºå®Œæ•´èµ„æ–™ã€‚</p><ul><li><strong>è¾“å…¥</strong>ï¼š<code>univ_id</code>ï¼ˆæ•´æ•°ï¼‰</li><li><strong>é€»è¾‘</strong>ï¼š<ol><li><strong>åŸºç¡€ä¿¡æ¯</strong>ï¼šä» <code>Universities</code> è¡¨è·å–ä¸»è¦ä¿¡æ¯ï¼ˆåç§°ã€ä½ç½®ã€ç…§ç‰‡ï¼‰</li><li><strong>ç¿»è¯‘</strong>ï¼šä¸ <code>University_names_en_to_zh</code> è”æ¥è·ä¸­æ–‡åç§°</li><li><strong>åŠ¨æ€æ’åæ£€ç´¢</strong>ï¼š<ul><li>æŸ¥è¯¢ <code>sqlite_master</code> æŸ¥æ‰¾æ•°æ®åº“ä¸­æ‰€æœ‰ä»¥ <code>_Rankings</code> ç»“å°¾çš„è¡¨</li><li>éå†æ¯å¼ æ’åè¡¨æ£€æŸ¥è¯¥å¤§å­¦æ˜¯å¦åœ¨å…¶ä¸­</li><li>è¿™ä½¿ç³»ç»Ÿæ˜“äºæ‰©å±•â€”â€”è‹¥æ·»åŠ æ–°æ’åè¡¨ï¼ˆå¦‚"Mars_University_Rankings"ï¼‰ï¼Œè¿™å‡½æ•°è‡ªåŠ¨ä½¿ç”¨å®ƒï¼Œæ— éœ€ä»£ç æ”¹åŠ¨</li></ul></li><li><strong>ç»Ÿè®¡æ•°æ®</strong>ï¼šä» <code>UniversityStats</code> è·å–ç»Ÿè®¡ä¿¡æ¯ï¼ˆå­¦ç”Ÿæ•°ç­‰ï¼‰</li></ol></li><li><strong>è¾“å‡º</strong>ï¼šåŒ…å«è¯¥å¤§å­¦å·²çŸ¥æ‰€æœ‰ä¿¡æ¯çš„å¤§å­—å…¸</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_university_by_id</span><span class=p>(</span><span class=n>univ_id</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span> <span class=o>=</span> <span class=n>get_db_connection</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ç¬¬ä¸€æ­¥ï¼šè·å–å¤§å­¦åŸºç¡€ä¿¡æ¯</span>
</span></span><span class=line><span class=cl>    <span class=n>cur</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        SELECT Universities.*, T.chinese_name 
</span></span></span><span class=line><span class=cl><span class=s2>        FROM Universities 
</span></span></span><span class=line><span class=cl><span class=s2>        LEFT JOIN University_names_en_to_zh AS T ON Universities.id = T.id 
</span></span></span><span class=line><span class=cl><span class=s2>        WHERE Universities.id = ?
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span><span class=p>,</span> <span class=p>(</span><span class=n>univ_id</span><span class=p>,))</span>
</span></span><span class=line><span class=cl>    <span class=n>row</span> <span class=o>=</span> <span class=n>cur</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>row</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>None</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>university</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>row</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>normalized_name</span> <span class=o>=</span> <span class=n>university</span><span class=p>[</span><span class=s1>&#39;normalized_name&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># ç¬¬äºŒæ­¥ï¼šä»æ‰€æœ‰ *_Rankings è¡¨è·å–æ’å</span>
</span></span><span class=line><span class=cl>    <span class=n>cur</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;SELECT name FROM sqlite_master WHERE type=&#39;table&#39; AND name LIKE &#39;%_Rankings&#39;&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>ranking_tables</span> <span class=o>=</span> <span class=p>[</span><span class=n>r</span><span class=p>[</span><span class=s2>&#34;name&#34;</span><span class=p>]</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>cur</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()]</span>
</span></span><span class=line><span class=cl>    <span class=n>rankings</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>table</span> <span class=ow>in</span> <span class=n>ranking_tables</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>cur</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=sa>f</span><span class=s2>&#34;&#34;&#34;SELECT subject, source, rank_value 
</span></span></span><span class=line><span class=cl><span class=s2>                    FROM &#34;</span><span class=si>{</span><span class=n>table</span><span class=si>}</span><span class=s2>&#34; WHERE normalized_name = ?&#34;&#34;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=p>(</span><span class=n>normalized_name</span><span class=p>,)</span>
</span></span><span class=line><span class=cl>            <span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>rankings</span> <span class=o>+=</span> <span class=p>[</span><span class=nb>dict</span><span class=p>(</span><span class=n>r</span><span class=p>)</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>cur</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()]</span>
</span></span><span class=line><span class=cl>        <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1># è·³è¿‡æ ¼å¼é”™è¯¯æˆ–ä¸åŒ¹é…çš„è¡¨</span>
</span></span><span class=line><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=cl>    <span class=c1># ç¬¬ä¸‰æ­¥ï¼šä» UniversityStats è·å–ç»Ÿè®¡æ•°æ®</span>
</span></span><span class=line><span class=cl>    <span class=n>cur</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;SELECT type, count, year FROM UniversityStats WHERE normalized_name = ?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=n>normalized_name</span><span class=p>,)</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>stats</span> <span class=o>=</span> <span class=p>[</span><span class=nb>dict</span><span class=p>(</span><span class=n>r</span><span class=p>)</span> <span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>cur</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()]</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>rankings</span> <span class=o>=</span> <span class=nb>sorted</span><span class=p>(</span><span class=n>rankings</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span> <span class=k>if</span> <span class=s2>&#34;global&#34;</span> <span class=ow>in</span> <span class=n>x</span><span class=p>[</span><span class=s2>&#34;subject&#34;</span><span class=p>]</span> <span class=ow>or</span> <span class=s2>&#34;World&#34;</span> <span class=ow>in</span> <span class=n>x</span><span class=p>[</span><span class=s2>&#34;subject&#34;</span><span class=p>]</span> <span class=k>else</span> <span class=n>x</span><span class=p>[</span><span class=s2>&#34;rank_value&#34;</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># åˆå¹¶æ‰€æœ‰ä¿¡æ¯</span>
</span></span><span class=line><span class=cl>    <span class=n>university</span><span class=p>[</span><span class=s2>&#34;rankings&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>rankings</span>
</span></span><span class=line><span class=cl>    <span class=n>university</span><span class=p>[</span><span class=s2>&#34;stats&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=n>stats</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>university</span>
</span></span></code></pre></div><hr><h2 id=3-å­¦ç§‘æ’åroutesranking_detailpy>3. å­¦ç§‘æ’åï¼š<code>routes/ranking_detail.py</code><a hidden class=anchor aria-hidden=true href=#3-å­¦ç§‘æ’åroutesranking_detailpy>#</a></h2><p>è¿™ä¸ªè·¯ç”±å¤„ç†ç‰¹å®šå­¦ç§‘æ’åï¼Œå¦‚"è®¡ç®—æœºç§‘å­¦"æˆ–"åŒ»å­¦"ã€‚</p><h3 id=å‡½æ•°ranking_detail-get-subject_rankingsranking_detail>å‡½æ•°ï¼š<code>ranking_detail</code> (<code>GET /subject_rankings/ranking_detail</code>)<a hidden class=anchor aria-hidden=true href=#å‡½æ•°ranking_detail-get-subject_rankingsranking_detail>#</a></h3><ul><li><strong>è¾“å…¥</strong>ï¼šæŸ¥è¯¢å‚æ•° <code>table</code>ã€<code>source</code> å’Œ <code>subject</code></li><li><strong>é€»è¾‘</strong>ï¼š<ol><li>éªŒè¯ä¸‰ä¸ªå‚æ•°éƒ½å­˜åœ¨</li><li>è°ƒç”¨ <code>get_ranking_detail</code>ï¼ˆæ¥è‡ª <code>models.ranking_options</code>ï¼‰è·å–ç‰¹å®šåˆ—è¡¨</li><li>ç”¨æˆ·æƒ³çœ‹ç‰¹å®šç±»åˆ«å®Œæ•´æ’ååˆ—è¡¨æ—¶ä½¿ç”¨ï¼Œè€Œéä»…çœ‹å•æ‰€å¤§å­¦æ’å</li></ol></li><li><strong>è¾“å‡º</strong>ï¼šè¯¥å­¦ç§‘æ’åå¤§å­¦çš„ JSON åˆ—è¡¨</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nd>@ranking_detail_bp.route</span><span class=p>(</span><span class=s1>&#39;/ranking_detail&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;GET&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>ranking_detail</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>table</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>args</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;table&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>source</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>args</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;source&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>subject</span> <span class=o>=</span> <span class=n>request</span><span class=o>.</span><span class=n>args</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;subject&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;ranking_detail </span><span class=se>{{</span><span class=s1>&#34;table&#34;: &#34;</span><span class=si>{</span><span class=n>table</span><span class=si>}</span><span class=s1>&#34;, &#34;source&#34;: &#34;</span><span class=si>{</span><span class=n>source</span><span class=si>}</span><span class=s1>&#34;, &#34;subject&#34;: &#34;</span><span class=si>{</span><span class=n>subject</span><span class=si>}</span><span class=s1>&#34;</span><span class=se>}}</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>table</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>source</span> <span class=ow>or</span> <span class=ow>not</span> <span class=n>subject</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>jsonify</span><span class=p>({</span><span class=s1>&#39;error&#39;</span><span class=p>:</span> <span class=s1>&#39;Missing parameters&#39;</span><span class=p>}),</span> <span class=mi>400</span>
</span></span><span class=line><span class=cl>    <span class=n>detail</span> <span class=o>=</span> <span class=n>get_ranking_detail</span><span class=p>(</span><span class=n>table</span><span class=p>,</span> <span class=n>source</span><span class=p>,</span> <span class=n>subject</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>jsonify</span><span class=p>(</span><span class=n>detail</span><span class=p>)</span>
</span></span></code></pre></div><hr><h2 id=4-æ•°æ®åº“è¿æ¥dbdatabasepy>4. æ•°æ®åº“è¿æ¥ï¼š<code>db/database.py</code><a hidden class=anchor aria-hidden=true href=#4-æ•°æ®åº“è¿æ¥dbdatabasepy>#</a></h2><p>ç®€å•ä½†å…³é”®çš„å·¥å…·å‡½æ•°ã€‚</p><h3 id=å‡½æ•°get_db_connection>å‡½æ•°ï¼š<code>get_db_connection</code><a hidden class=anchor aria-hidden=true href=#å‡½æ•°get_db_connection>#</a></h3><ul><li><strong>è¾“å…¥</strong>ï¼šæ— </li><li><strong>é€»è¾‘</strong>ï¼š<ol><li>è¿æ¥åˆ° <code>config.DATABASE</code> å®šä¹‰çš„ SQLite æ–‡ä»¶</li><li>è®¾ç½® <code>conn.row_factory = sqlite3.Row</code>ã€‚è¿™æ˜¯ Flask/SQLite å¼€å‘è€…çš„å°è´´å£«ï¼šè®©ä½ åƒå­—å…¸ä¸€æ ·è®¿é—®æ•°æ®åº“è¡Œï¼ˆå¦‚ <code>row['name']</code>ï¼‰è€Œéå…ƒç»„ï¼ˆå¦‚ <code>row[1]</code>ï¼‰</li></ol></li><li><strong>è¾“å‡º</strong>ï¼šæ´»è·ƒçš„æ•°æ®åº“è¿æ¥å¯¹è±¡</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_db_connection</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span> <span class=o>=</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=n>DATABASE</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span><span class=o>.</span><span class=n>row_factory</span> <span class=o>=</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>Row</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>conn</span>
</span></span></code></pre></div><hr><h2 id=5-æ•°æ®å¯¼å…¥scriptsdata_to_db_universitiespy>5. æ•°æ®å¯¼å…¥ï¼š<code>scripts/data_to_db_universities.py</code><a hidden class=anchor aria-hidden=true href=#5-æ•°æ®å¯¼å…¥scriptsdata_to_db_universitiespy>#</a></h2><p>æ•°æ®å¦‚ä½•è¿›å…¥ç³»ç»Ÿï¼Ÿè¿™ä¸ªè„šæœ¬å±•ç¤º ETLï¼ˆæå–ã€è½¬æ¢ã€åŠ è½½ï¼‰è¿‡ç¨‹ã€‚</p><h3 id=è„šæœ¬é€»è¾‘>è„šæœ¬é€»è¾‘<a hidden class=anchor aria-hidden=true href=#è„šæœ¬é€»è¾‘>#</a></h3><ol><li><strong>æå–</strong>ï¼šä½¿ç”¨ Pandas è¯»å–åŸå§‹ CSV æ–‡ä»¶ï¼ˆ<code>data/merged_data.csv</code>ï¼‰</li><li><strong>è½¬æ¢</strong>ï¼š<ul><li>ä»…é€‰æ‹©éœ€è¦çš„åˆ—ï¼ˆNameã€Countryã€City ç­‰ï¼‰</li><li>é‡å‘½ååˆ—ä»¥åŒ¹é… SQL æ¶æ„ï¼ˆå¦‚ <code>Name</code> -> <code>name</code>ï¼‰</li></ul></li><li><strong>åŠ è½½</strong>ï¼š<ul><li>è¿æ¥åˆ° SQLite æ•°æ®åº“</li><li>éå† Pandas DataFrame</li><li>ä¸ºæ¯è¡Œæ‰§è¡Œ <code>INSERT</code> SQL å‘½ä»¤</li></ul></li><li><strong>ç»“æœ</strong>ï¼šå¡«å…… <code>Universities</code> è¡¨ï¼Œè¿™æ˜¯æ•´ä¸ªåº”ç”¨çš„éª¨æ¶</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1># åŠ è½½ CSV</span>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>pd</span><span class=o>.</span><span class=n>read_csv</span><span class=p>(</span><span class=s2>&#34;data/merged_data.csv&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># é€‰æ‹©å¹¶é‡å‘½åå¿…éœ€åˆ—</span>
</span></span><span class=line><span class=cl><span class=n>df</span> <span class=o>=</span> <span class=n>df</span><span class=p>[[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Name&#34;</span><span class=p>,</span> <span class=s2>&#34;normalizedName&#34;</span><span class=p>,</span> <span class=s2>&#34;Country&#34;</span><span class=p>,</span> <span class=s2>&#34;Country Code&#34;</span><span class=p>,</span> <span class=s2>&#34;City&#34;</span><span class=p>,</span> <span class=s2>&#34;Photo&#34;</span><span class=p>,</span> <span class=s2>&#34;Blurb&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]]</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># é‡å‘½ååŒ¹é… SQL è¡¨</span>
</span></span><span class=line><span class=cl><span class=n>df</span><span class=o>.</span><span class=n>columns</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;name&#34;</span><span class=p>,</span> <span class=s2>&#34;normalized_name&#34;</span><span class=p>,</span> <span class=s2>&#34;country&#34;</span><span class=p>,</span> <span class=s2>&#34;country_code&#34;</span><span class=p>,</span> <span class=s2>&#34;city&#34;</span><span class=p>,</span> <span class=s2>&#34;photo&#34;</span><span class=p>,</span> <span class=s2>&#34;blurb&#34;</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># è¿æ¥åˆ° SQLite æ•°æ®åº“</span>
</span></span><span class=line><span class=cl><span class=n>conn</span> <span class=o>=</span> <span class=n>sqlite3</span><span class=o>.</span><span class=n>connect</span><span class=p>(</span><span class=s2>&#34;University_rankings.db&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ’å…¥è¡Œ</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>_</span><span class=p>,</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>df</span><span class=o>.</span><span class=n>iterrows</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        INSERT INTO Universities (
</span></span></span><span class=line><span class=cl><span class=s2>            normalized_name, name, country, country_code, city, photo, blurb
</span></span></span><span class=line><span class=cl><span class=s2>        ) VALUES (?, ?, ?, ?, ?, ?, ?)
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span><span class=p>,</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>row</span><span class=p>[</span><span class=s2>&#34;normalized_name&#34;</span><span class=p>],</span> <span class=n>row</span><span class=p>[</span><span class=s2>&#34;name&#34;</span><span class=p>],</span> <span class=n>row</span><span class=p>[</span><span class=s2>&#34;country&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=n>row</span><span class=p>[</span><span class=s2>&#34;country_code&#34;</span><span class=p>],</span> <span class=n>row</span><span class=p>[</span><span class=s2>&#34;city&#34;</span><span class=p>],</span> <span class=n>row</span><span class=p>[</span><span class=s2>&#34;photo&#34;</span><span class=p>],</span> <span class=n>row</span><span class=p>[</span><span class=s2>&#34;blurb&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æäº¤å¹¶å…³é—­</span>
</span></span><span class=line><span class=cl><span class=n>conn</span><span class=o>.</span><span class=n>commit</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>conn</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span></code></pre></div><hr><h2 id=-vibe-coding-è§†è§’>ğŸŒŠ Vibe Coding è§†è§’<a hidden class=anchor aria-hidden=true href=#-vibe-coding-è§†è§’>#</a></h2><p>Vibe Codingï¼ˆAI è¾…åŠ©ç¼–ç ï¼‰å¦‚ä½•åº”ç”¨äºæ•°æ®å·¥ç¨‹å’Œè„šæœ¬ï¼Ÿå…³é”®æ˜¯ä½¿ç”¨ AI å¿«é€ŸåŸå‹è§£å†³æ–¹æ¡ˆã€éªŒè¯å‡è®¾ï¼ŒåŒæ—¶ä¿æŒé«˜è´¨é‡å’Œå¯æ‰©å±•æ€§ã€‚</p><ol><li><p><strong>åŠ¨æ€å‘ç°</strong>ï¼š
åœ¨ <code>get_university_by_id</code> ä¸­ï¼Œæˆ‘ä»¬éå† <em>æ‰€æœ‰</em> ä»¥ <code>_Rankings</code> ç»“å°¾çš„è¡¨ã€‚æˆ‘ä»¬æ²¡åˆ›å»ºå¤æ‚çš„ <code>RankingRegistry</code> ç±»æˆ–é…ç½®æ–‡ä»¶ï¼Œåªæ˜¯è®©æ•°æ®åº“å‘Šè¯‰æˆ‘ä»¬å®ƒæœ‰ä»€ä¹ˆã€‚</p><ul><li><strong>AI è¾…åŠ©æ¶æ„</strong>ï¼šåœ¨ AI æŒ‡å¯¼ä¸‹ï¼Œæˆ‘ä»¬åœ¨æ›´å¤æ‚çš„æ›¿ä»£æ–¹æ¡ˆä¸­ç¡®å®šäº†è¿™ä¸ªæ›´ç®€å•çš„æ–¹æ³•ã€‚å®ƒæ—¢æ¾æ•£åˆçµæ´»ï¼Œæ˜“äºæ‰©å±•ã€‚æ— éœ€"æ³¨å†Œ"æ–°æ•°æ®é›†ï¼Œç›´æ¥åŠ è½½å³å¯ã€‚AI å¸®æˆ‘ä»¬é¿å…è¿‡åº¦å·¥ç¨‹ã€‚</li></ul></li><li><p><strong>å®ç”¨è§„èŒƒåŒ–</strong>ï¼š
<code>normalize_name</code> å‡½æ•°ä¸ä½¿ç”¨å¤æ‚ NLP æ¨¡å‹æˆ–æ¨¡ç³ŠåŒ¹é…åº“ï¼Œåªç”¨ç®€å•å­—å…¸ï¼ˆ<code>ALIASES</code>ï¼‰å’Œæ­£åˆ™è¡¨è¾¾å¼ã€‚</p><ul><li><strong>AI è¾…åŠ©æƒè¡¡</strong>ï¼šAI å¸®æˆ‘ä»¬å†³å®šä½¿ç”¨ç®€å•æ­£åˆ™å’Œåˆ«åè€Œéå¤æ‚ NLPï¼Œè®¤è¯†åˆ°è¿™ä»¥ 1% çš„å·¥ä½œé‡è§£å†³äº† 99% çš„é—®é¢˜ã€‚ç”¨ AI è¾…åŠ©ç¼–ç æ—¶ï¼Œä½ ä¸“æ³¨ç‰¹å®šæ•°æ®é—®é¢˜ï¼ˆå¦‚"MIT"vs"Massachusetts Institute of Technology"ï¼‰ï¼Œè®© AI å¤„ç†æ ·æ¿å’Œå¸¸è§æ¨¡å¼ï¼Œç„¶åè½¬å‘æ›´æœ‰è¶£çš„é—®é¢˜ã€‚</li></ul></li></ol><hr><h2 id=æ€»ç»“>æ€»ç»“<a hidden class=anchor aria-hidden=true href=#æ€»ç»“>#</a></h2><p><strong>University Ranking Backend</strong> å±•ç¤ºäº†å¦‚ä½•æ„å»ºçµæ´»ã€æ•°æ®é©±åŠ¨çš„ APIã€‚é€šè¿‡å°†"è§„èŒƒåŒ–"é€»è¾‘åˆ†ç¦»åˆ°å®ç”¨å·¥å…·ï¼Œå¹¶ç”¨åŠ¨æ€ SQL æŸ¥è¯¢å‘ç°è¡¨ï¼Œç³»ç»Ÿèƒ½ç”¨æœ€å°‘ä»£ç æ”¹åŠ¨å¤„ç†æ–°æ’åæ•°æ®ã€‚</p><p>åç»­å¯èƒ½ä¼šæ¢è®¨å¦‚ä½•éƒ¨ç½²è¿™ä¸ªç³»ç»Ÿæˆ–å‰ç«¯å¦‚ä½•ä½¿ç”¨è¿™ä¸ª APIï¼</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/zh/tags/python/>Python</a></li><li><a href=http://localhost:1313/zh/tags/flask/>Flask</a></li><li><a href=http://localhost:1313/zh/tags/backend/>Backend</a></li><li><a href=http://localhost:1313/zh/tags/%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90/>ä»£ç åˆ†æ</a></li><li><a href=http://localhost:1313/zh/tags/%E6%95%B0%E6%8D%AE%E5%B7%A5%E7%A8%8B/>æ•°æ®å·¥ç¨‹</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/zh/>xiaruize's Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>