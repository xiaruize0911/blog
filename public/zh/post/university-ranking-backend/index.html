<!doctype html><html lang=zh dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="noindex, nofollow"><title>ä½¿ç”¨ Vibe Coding æ„å»ºå¤§å­¦æ’ååç«¯ | xiaruize's Blog</title><meta name=keywords content="Python,Flask,Backend,API,SQLite"><meta name=description content='åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†åˆ†äº«æ„å»º University Ranking Backend çš„è¿‡ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ª RESTful APIï¼Œç”¨äºèšåˆå’Œæä¾›æ¥è‡ª QS å’Œ US News ç­‰æƒå¨æœºæ„çš„å¤§å­¦æ’åæ•°æ®ã€‚æˆ‘ä»¬å°†æ¢è®¨ Vibe Coding ç­–ç•¥ã€æŠ€æœ¯æ¶æ„å’Œé©±åŠ¨ç³»ç»Ÿçš„æ ¸å¿ƒç®—æ³•ã€‚
ğŸ“š å®Œæ•´ç³»åˆ—é˜…è¯»
è¿™ä¸ªé¡¹ç›®å†…å®¹ä¸°å¯Œï¼Œæˆ‘å°†å…¶åˆ†ä¸ºæ·±å…¥ç³»åˆ—æ–‡ç« ï¼š

ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¸å¿ƒé€»è¾‘ä¸ API æ¶æ„

æ¢ç´¢ app.py åº”ç”¨å…¥å£
è§£æ models/universities.py ä¸­çš„"æ™ºèƒ½è¡¨é€‰æ‹©"ç®—æ³•
è®²è§£ API è·¯ç”±çš„å®ç°


ç¬¬äºŒéƒ¨åˆ†ï¼šæ•°æ®å·¥ç¨‹ä¸è„šæœ¬

ä»‹ç» ETL æµç¨‹ï¼ˆæå–ã€è½¬æ¢ã€åŠ è½½ï¼‰
å±•ç¤ºå¦‚ä½•åœ¨ä¸åŒæ•°æ®é›†é—´æ ‡å‡†åŒ–å¤§å­¦åç§°
é˜è¿°åŠ¨æ€æ’åå‘ç°æœºåˆ¶



ğŸš€ é¡¹ç›®ä»‹ç»
University Ranking Backend æ˜¯ä¸€ä¸ªé›†ä¸­å¼æœåŠ¡ï¼Œä¸ºå…¨çƒå¤§å­¦æä¾›è¯¦ç»†ä¿¡æ¯ã€‚
æ ¸å¿ƒåŠŸèƒ½ï¼š

æ•°æ®èšåˆï¼šæ•´åˆæ¥è‡ªå¤šä¸ªæ¥æºï¼ˆQSã€US Newsã€Nicheï¼‰çš„æ’åæ•°æ®
å¤šè¯­è¨€æ”¯æŒï¼šå†…ç½®è‹±æ–‡å’Œä¸­æ–‡å¤§å­¦åç§°æ”¯æŒ
æ™ºèƒ½è¿‡æ»¤ï¼šæ”¯æŒæŒ‰åç§°ã€å›½å®¶ã€åŸå¸‚å’Œæ’åæ ‡å‡†è¿›è¡Œæœç´¢

ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªè½»é‡çº§ã€æ˜“æŸ¥è¯¢çš„æ¥å£ï¼Œè®©å‰ç«¯åº”ç”¨èƒ½è½»æ¾ä½¿ç”¨ï¼Œæ— éœ€å…³å¿ƒåˆå¹¶ä¸åŒæ’åæ•°æ®çš„å¤æ‚é€»è¾‘ã€‚
ğŸ’¡ Vibe Coding ç­–ç•¥
&ldquo;Vibe Coding&rdquo; æ˜¯ä¸€ç§ AI è¾…åŠ©ç¼–ç æ–¹æ³•ï¼Œå¼€å‘è€…ä¸ AI å·¥å…·åä½œåŠ é€Ÿå¼€å‘ï¼ŒAI å……å½“åä½œä¼™ä¼´å¤„ç†é‡å¤ä»»åŠ¡ã€ç”Ÿæˆæ¨¡æ¿ä»£ç ï¼Œå¹¶å¿«é€Ÿæ¢ç´¢è§£å†³æ–¹æ¡ˆã€‚æœ¬é¡¹ç›®é‡‡ç”¨ æ•°æ®é©±åŠ¨ã€é€»è¾‘å…¶æ¬¡ çš„ç­–ç•¥ï¼Œå¹¶å¾—åˆ° AI çš„å……åˆ†ååŠ©ã€‚

æ•°æ®æ”¶é›†ä¸è´¨é‡æ£€æŸ¥ï¼š

é¦–å…ˆåœ¨ data/ ç›®å½•æ”¶é›†åŸå§‹æ•°æ®ï¼ˆCSVã€JSON æ ¼å¼ï¼‰
é€šè¿‡"è´¨é‡æ£€æŸ¥"ç¡®ä¿æ•°æ®ç»Ÿä¸€ä¸€è‡´ã€æ’åå‡†ç¡®ã€æ ¼å¼è§„èŒƒ


è„šæœ¬åŒ–å¤„ç†æµç¨‹ï¼š

ç¼–å†™ç‹¬ç«‹è„šæœ¬ï¼ˆscripts/ ç›®å½•ï¼‰å¤„ç†åŸå§‹æ•°æ®å’Œå¡«å…… SQLite æ•°æ®åº“
è¿™æ ·åšèƒ½å°†æ··ä¹±çš„æ•°æ®æ¸…æ´—ä¸å¹²å‡€çš„åº”ç”¨é€»è¾‘åˆ†ç¦»


API ä½œä¸ºç½‘å…³ï¼š

æ•°æ®åº“å°±ç»ªåï¼ŒFlask API ä½œä¸ºç®€å•ç½‘å…³æ„å»º
é‡ç‚¹æ˜¯è®©ç«¯ç‚¹æ˜“ç”¨ç›´è§‚ï¼ˆ/filterã€/searchï¼‰ï¼Œè€Œéè¿‡åº¦è®¾è®¡



æŸ¥çœ‹ ç¬¬ä¸€éƒ¨åˆ† å’Œ ç¬¬äºŒéƒ¨åˆ† äº†è§£ &ldquo;Vibe Coding&rdquo;ï¼ˆAI è¾…åŠ©å¼€å‘ï¼‰å¦‚ä½•å½±å“ä»£ç ç»“æ„çš„å…·ä½“ä¾‹å­ï¼Œæ¯”å¦‚å»¶è¿Ÿå¯¼å…¥å’ŒåŠ¨æ€è¡¨å‘ç°ã€‚è¿™äº›æ¨¡å¼éƒ½é€šè¿‡ AI ååŠ©ä¼˜åŒ–ï¼Œé¿å…å¸¸è§é™·é˜±å¹¶æå‡å¯æ‰©å±•æ€§ã€‚'><meta name=author content><link rel=canonical href=http://localhost:1313/zh/post/university-ranking-backend/><link crossorigin=anonymous href=/assets/css/stylesheet.e1f5c4cae44599655f7ff95195ff89c8cb3adbda94f2b1581a434ab2b4d4e6cf.css integrity="sha256-4fXEyuRFmWVff/lRlf+JyMs629qU8rFYGkNKsrTU5s8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/post/university-ranking-backend/><link rel=alternate hreflang=zh href=http://localhost:1313/zh/post/university-ranking-backend/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css integrity=sha384-zh0CIslj+VczCZtlzBcjt5ppRcsAmDnRem7ESsYwWwg3m/OaJ2l4x7YBZl9Kxxib crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.js integrity=sha384-Rma6DA2IPUwhNxmrB/7S3Tno0YY7sFu9WSYMCuulLhIqYSGZ2gKCJWIqhBWqMQfh crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous onload=renderMathInElement(document.body)></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"\\[",right:"\\]",display:!0},{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"$",right:"$",display:!1}],throwOnError:!0})})</script></head><body id="
    top"><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/zh/ accesskey=h title="xiaruize's Blog (Alt + H)">xiaruize's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=http://localhost:1313/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/zh/categories/ title=categories><span>categories</span></a></li><li><a href=http://localhost:1313/zh/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">ä½¿ç”¨ Vibe Coding æ„å»ºå¤§å­¦æ’ååç«¯</h1><div class=post-meta><span title='2025-12-07 00:00:00 +0000 UTC'>2025å¹´12æœˆ7æ—¥</span>&nbsp;|&nbsp;è¯­è¨€:<ul class=i18n_list><li><a href=http://localhost:1313/post/university-ranking-backend/>En</a></li></ul></div></header><div class=post-content><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†åˆ†äº«æ„å»º <strong>University Ranking Backend</strong> çš„è¿‡ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ª RESTful APIï¼Œç”¨äºèšåˆå’Œæä¾›æ¥è‡ª QS å’Œ US News ç­‰æƒå¨æœºæ„çš„å¤§å­¦æ’åæ•°æ®ã€‚æˆ‘ä»¬å°†æ¢è®¨ Vibe Coding ç­–ç•¥ã€æŠ€æœ¯æ¶æ„å’Œé©±åŠ¨ç³»ç»Ÿçš„æ ¸å¿ƒç®—æ³•ã€‚</p><h2 id=-å®Œæ•´ç³»åˆ—é˜…è¯»>ğŸ“š å®Œæ•´ç³»åˆ—é˜…è¯»<a hidden class=anchor aria-hidden=true href=#-å®Œæ•´ç³»åˆ—é˜…è¯»>#</a></h2><p>è¿™ä¸ªé¡¹ç›®å†…å®¹ä¸°å¯Œï¼Œæˆ‘å°†å…¶åˆ†ä¸ºæ·±å…¥ç³»åˆ—æ–‡ç« ï¼š</p><ul><li><strong><a href=http://localhost:1313/zh/post/university-ranking-backend-part-1/>ç¬¬ä¸€éƒ¨åˆ†ï¼šæ ¸å¿ƒé€»è¾‘ä¸ API æ¶æ„</a></strong><ul><li>æ¢ç´¢ <code>app.py</code> åº”ç”¨å…¥å£</li><li>è§£æ <code>models/universities.py</code> ä¸­çš„"æ™ºèƒ½è¡¨é€‰æ‹©"ç®—æ³•</li><li>è®²è§£ API è·¯ç”±çš„å®ç°</li></ul></li><li><strong><a href=http://localhost:1313/zh/post/university-ranking-backend-part-2/>ç¬¬äºŒéƒ¨åˆ†ï¼šæ•°æ®å·¥ç¨‹ä¸è„šæœ¬</a></strong><ul><li>ä»‹ç» ETL æµç¨‹ï¼ˆæå–ã€è½¬æ¢ã€åŠ è½½ï¼‰</li><li>å±•ç¤ºå¦‚ä½•åœ¨ä¸åŒæ•°æ®é›†é—´æ ‡å‡†åŒ–å¤§å­¦åç§°</li><li>é˜è¿°åŠ¨æ€æ’åå‘ç°æœºåˆ¶</li></ul></li></ul><h2 id=-é¡¹ç›®ä»‹ç»>ğŸš€ é¡¹ç›®ä»‹ç»<a hidden class=anchor aria-hidden=true href=#-é¡¹ç›®ä»‹ç»>#</a></h2><p><strong>University Ranking Backend</strong> æ˜¯ä¸€ä¸ªé›†ä¸­å¼æœåŠ¡ï¼Œä¸ºå…¨çƒå¤§å­¦æä¾›è¯¦ç»†ä¿¡æ¯ã€‚</p><p><strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p><ul><li><strong>æ•°æ®èšåˆ</strong>ï¼šæ•´åˆæ¥è‡ªå¤šä¸ªæ¥æºï¼ˆQSã€US Newsã€Nicheï¼‰çš„æ’åæ•°æ®</li><li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šå†…ç½®è‹±æ–‡å’Œä¸­æ–‡å¤§å­¦åç§°æ”¯æŒ</li><li><strong>æ™ºèƒ½è¿‡æ»¤</strong>ï¼šæ”¯æŒæŒ‰åç§°ã€å›½å®¶ã€åŸå¸‚å’Œæ’åæ ‡å‡†è¿›è¡Œæœç´¢</li></ul><p>ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªè½»é‡çº§ã€æ˜“æŸ¥è¯¢çš„æ¥å£ï¼Œè®©å‰ç«¯åº”ç”¨èƒ½è½»æ¾ä½¿ç”¨ï¼Œæ— éœ€å…³å¿ƒåˆå¹¶ä¸åŒæ’åæ•°æ®çš„å¤æ‚é€»è¾‘ã€‚</p><h2 id=-vibe-coding-ç­–ç•¥>ğŸ’¡ Vibe Coding ç­–ç•¥<a hidden class=anchor aria-hidden=true href=#-vibe-coding-ç­–ç•¥>#</a></h2><p>&ldquo;Vibe Coding&rdquo; æ˜¯ä¸€ç§ AI è¾…åŠ©ç¼–ç æ–¹æ³•ï¼Œå¼€å‘è€…ä¸ AI å·¥å…·åä½œåŠ é€Ÿå¼€å‘ï¼ŒAI å……å½“åä½œä¼™ä¼´å¤„ç†é‡å¤ä»»åŠ¡ã€ç”Ÿæˆæ¨¡æ¿ä»£ç ï¼Œå¹¶å¿«é€Ÿæ¢ç´¢è§£å†³æ–¹æ¡ˆã€‚æœ¬é¡¹ç›®é‡‡ç”¨ <strong>æ•°æ®é©±åŠ¨ã€é€»è¾‘å…¶æ¬¡</strong> çš„ç­–ç•¥ï¼Œå¹¶å¾—åˆ° AI çš„å……åˆ†ååŠ©ã€‚</p><ol><li><strong>æ•°æ®æ”¶é›†ä¸è´¨é‡æ£€æŸ¥</strong>ï¼š<ul><li>é¦–å…ˆåœ¨ <code>data/</code> ç›®å½•æ”¶é›†åŸå§‹æ•°æ®ï¼ˆCSVã€JSON æ ¼å¼ï¼‰</li><li>é€šè¿‡"è´¨é‡æ£€æŸ¥"ç¡®ä¿æ•°æ®ç»Ÿä¸€ä¸€è‡´ã€æ’åå‡†ç¡®ã€æ ¼å¼è§„èŒƒ</li></ul></li><li><strong>è„šæœ¬åŒ–å¤„ç†æµç¨‹</strong>ï¼š<ul><li>ç¼–å†™ç‹¬ç«‹è„šæœ¬ï¼ˆ<code>scripts/</code> ç›®å½•ï¼‰å¤„ç†åŸå§‹æ•°æ®å’Œå¡«å…… SQLite æ•°æ®åº“</li><li>è¿™æ ·åšèƒ½å°†æ··ä¹±çš„æ•°æ®æ¸…æ´—ä¸å¹²å‡€çš„åº”ç”¨é€»è¾‘åˆ†ç¦»</li></ul></li><li><strong>API ä½œä¸ºç½‘å…³</strong>ï¼š<ul><li>æ•°æ®åº“å°±ç»ªåï¼ŒFlask API ä½œä¸ºç®€å•ç½‘å…³æ„å»º</li><li>é‡ç‚¹æ˜¯è®©ç«¯ç‚¹æ˜“ç”¨ç›´è§‚ï¼ˆ<code>/filter</code>ã€<code>/search</code>ï¼‰ï¼Œè€Œéè¿‡åº¦è®¾è®¡</li></ul></li></ol><p>æŸ¥çœ‹ <a href=http://localhost:1313/zh/post/university-ranking-backend-part-1/>ç¬¬ä¸€éƒ¨åˆ†</a> å’Œ <a href=http://localhost:1313/zh/post/university-ranking-backend-part-2/>ç¬¬äºŒéƒ¨åˆ†</a> äº†è§£ &ldquo;Vibe Coding&rdquo;ï¼ˆAI è¾…åŠ©å¼€å‘ï¼‰å¦‚ä½•å½±å“ä»£ç ç»“æ„çš„å…·ä½“ä¾‹å­ï¼Œæ¯”å¦‚å»¶è¿Ÿå¯¼å…¥å’ŒåŠ¨æ€è¡¨å‘ç°ã€‚è¿™äº›æ¨¡å¼éƒ½é€šè¿‡ AI ååŠ©ä¼˜åŒ–ï¼Œé¿å…å¸¸è§é™·é˜±å¹¶æå‡å¯æ‰©å±•æ€§ã€‚</p><h2 id=-æŠ€æœ¯æ–¹æ¡ˆ>ğŸ›  æŠ€æœ¯æ–¹æ¡ˆ<a hidden class=anchor aria-hidden=true href=#-æŠ€æœ¯æ–¹æ¡ˆ>#</a></h2><p>æˆ‘ä»¬é€‰æ‹©äº†è½»é‡çº§æŠ€æœ¯æ ˆï¼Œæ—¢ä¿è¯å¼€å‘é€Ÿåº¦ï¼Œåˆä¿æŒéƒ¨ç½²ç®€æ´ã€‚</p><ul><li><strong>ç¼–ç¨‹è¯­è¨€</strong>ï¼š<strong>Python 3.8+</strong> - æ•°æ®å¯†é›†å‹åç«¯çš„é¦–é€‰</li><li><strong>Web æ¡†æ¶</strong>ï¼š<strong>Flask</strong> - æç®€ä¸”çµæ´»ï¼Œä¸åŒäº Django çš„å¼ºåˆ¶æ€§ç»“æ„ï¼Œè®©æˆ‘ä»¬èƒ½æ„å»ºå®Œå…¨æ‰€éœ€çš„ç³»ç»Ÿ</li><li><strong>æ•°æ®åº“</strong>ï¼š<strong>SQLite3</strong> - æ— æœåŠ¡å™¨ã€åŸºäºæ–‡ä»¶çš„æ•°æ®åº“ï¼Œå®Œç¾é€‚åˆè¯»å¤šå†™å°‘çš„åº”ç”¨</li><li><strong>æ‰©å±•åº“</strong>ï¼š<code>flask_cors</code> å¤„ç†è·¨åŸŸè¯·æ±‚ï¼Œå¯¹å…¬å¼€ API è‡³å…³é‡è¦</li></ul><h3 id=é¡¹ç›®ç»“æ„>é¡¹ç›®ç»“æ„<a hidden class=anchor aria-hidden=true href=#é¡¹ç›®ç»“æ„>#</a></h3><p>é¡¹ç›®é‡‡ç”¨æ¸…æ™°ã€æ¨¡å—åŒ–çš„ç»„ç»‡æ–¹å¼ï¼š</p><ul><li><code>app.py</code> - åº”ç”¨å…¥å£</li><li><code>routes/</code> - API æ§åˆ¶å™¨ï¼ˆå¦‚ <code>universities.py</code>ï¼‰</li><li><code>models/</code> - æ•°æ®å±‚ï¼ˆå¦‚ SQL æŸ¥è¯¢æ„å»ºï¼‰</li><li><code>data/</code> & <code>scripts/</code> - åŸå§‹æ•°æ®å’Œå¤„ç†ç®¡é“</li></ul><h2 id=-å…³é”®å‡½æ•°ç®€ä»‹>ğŸ“‚ å…³é”®å‡½æ•°ç®€ä»‹<a hidden class=anchor aria-hidden=true href=#-å…³é”®å‡½æ•°ç®€ä»‹>#</a></h2><p>ä¸ºä¿æŒåç«¯æ¡ç†æ¸…æ™°ï¼Œæˆ‘ä»¬å°†é€»è¾‘åˆ†æ•£åœ¨ä¸åŒæ–‡ä»¶ä¸­ã€‚ä»¥ä¸‹æ˜¯ä½¿ç³»ç»Ÿè¿è½¬çš„å…³é”®å‡½æ•°ï¼š</p><h3 id=1-åº”ç”¨å…¥å£-apppy>1. åº”ç”¨å…¥å£ (<code>app.py</code>)<a hidden class=anchor aria-hidden=true href=#1-åº”ç”¨å…¥å£-apppy>#</a></h3><ul><li><strong><code>create_app</code></strong>ï¼šè¿™æ˜¯èµ·ç‚¹ã€‚åˆå§‹åŒ– Flask åº”ç”¨ï¼Œé…ç½®å®‰å…¨è§„åˆ™ï¼ˆCORSï¼‰ä½¿å‰ç«¯èƒ½å®‰å…¨é€šä¿¡ï¼ŒåŠ è½½æ‰€æœ‰ API è·¯ç”±ã€‚</li></ul><h3 id=2-api-è·¯ç”±-routes>2. API è·¯ç”± (<code>routes/</code>)<a hidden class=anchor aria-hidden=true href=#2-api-è·¯ç”±-routes>#</a></h3><p>è¿™äº›å‡½æ•°å¦‚åŒ"æ¥å¾…å‘˜"ï¼Œå¤„ç†ç”¨æˆ·çš„ HTTP è¯·æ±‚ã€‚</p><ul><li><strong><code>filter_universities_route</code></strong>ï¼ˆæ˜ å°„åˆ° <code>/filter</code>ï¼‰ï¼šä¸»æœç´¢å¼•æ“ã€‚ç›‘å¬ç”¨æˆ·è¾“å…¥ï¼ˆæœç´¢è¯ã€å›½å®¶ã€åŸå¸‚ï¼‰å¹¶å°†å…¶ä¼ é€’ç»™æ•°æ®åº“é€»è¾‘ã€‚</li><li><strong><code>get_university</code></strong>ï¼ˆæ˜ å°„åˆ° <code>/&lt;id></code>ï¼‰ï¼šè·å–å•ä¸ªå¤§å­¦çš„å®Œæ•´èµ„æ–™ã€‚ç”¨æˆ·ç‚¹å‡»ç»“æœæŸ¥çœ‹è¯¦æƒ…æ—¶è°ƒç”¨ã€‚</li><li><strong><code>get_countries</code></strong>ï¼ˆåœ¨ <code>dropdown.py</code> ä¸­ï¼‰ï¼šè¾…åŠ©å‡½æ•°æ‰«ææ•°æ®åº“åˆ—å‡ºæ‰€æœ‰å›½å®¶ï¼Œå¡«å……å‰ç«¯ä¸‹æ‹‰èœå•ï¼Œè®©ç”¨æˆ·çŸ¥é“å¯ä»¥æŒ‰å“ªäº›æ¡ä»¶è¿‡æ»¤ã€‚</li></ul><h3 id=3-æ•°æ®é€»è¾‘-models>3. æ•°æ®é€»è¾‘ (<code>models/</code>)<a hidden class=anchor aria-hidden=true href=#3-æ•°æ®é€»è¾‘-models>#</a></h3><p>è¿™æ˜¯ç¹é‡å·¥ä½œå‘ç”Ÿçš„åœ°æ–¹ã€‚</p><ul><li><strong><code>filter_universities</code></strong>ï¼š&ldquo;å¤§è„‘"æ‰€åœ¨ã€‚åŠ¨æ€æ„å»º SQL æŸ¥è¯¢ï¼Œæ ¹æ®ç”¨æˆ·é€‰æ‹©å°†å¤§å­¦æ•°æ®ä¸å¯¹åº”æ’åè¡¨è”æ¥ã€‚</li></ul><h2 id=-ç®—æ³•åŠ¨æ€-sql-æ„å»º>ğŸ§® ç®—æ³•ï¼šåŠ¨æ€ SQL æ„å»º<a hidden class=anchor aria-hidden=true href=#-ç®—æ³•åŠ¨æ€-sql-æ„å»º>#</a></h2><p>è¿™ä¸ªåç«¯çš„æ ¸å¿ƒä¸æ˜¯å¤æ‚çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œè€Œæ˜¯èªæ˜çš„ <strong>åŠ¨æ€ SQL æŸ¥è¯¢æ„å»ºå™¨</strong>ã€‚</p><p><strong>æŒ‘æˆ˜</strong>ï¼šç”¨æˆ·æ—¢æƒ³çœ‹å…¨çƒæ’åï¼Œä¹Ÿæƒ³çœ‹ç‰¹å®šå›½å®¶çš„æ’åï¼ˆå¦‚"ä¸­å›½çš„å…¨çƒé¡¶çº§å¤§å­¦&rdquo;ï¼‰ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<strong>æ™ºèƒ½è¡¨é€‰æ‹©</strong>ã€‚</p><p>ä»£ç åŠ¨æ€æ£€æŸ¥è¯·æ±‚å›½å®¶æ˜¯å¦æœ‰å¯¹åº”æ’åè¡¨ã€‚è‹¥æœ‰ï¼Œå°±æ— ç¼åˆ‡æ¢ <code>JOIN</code> æ“ä½œåˆ°è¯¥è¡¨ï¼Œè·å¾—æ›´ç²¾å‡†çš„æœ¬åœ°æ’åã€‚</p><h3 id=å…³é”®ä»£ç ç‰‡æ®µ>å…³é”®ä»£ç ç‰‡æ®µ<a hidden class=anchor aria-hidden=true href=#å…³é”®ä»£ç ç‰‡æ®µ>#</a></h3><p>è¿™æ˜¯æ¥è‡ª <code>models/universities.py</code> çš„ <code>filter_universities</code> å‡½æ•°ï¼Œå¤„ç†æ­¤é€»è¾‘ã€‚è¯¦ç»†è¡Œçº§è®²è§£è§ <a href=http://localhost:1313/zh/post/university-ranking-backend-part-1/>ç¬¬ä¸€éƒ¨åˆ†</a>ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>filter_universities</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>sort_credit</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>country</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>city</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span> <span class=o>=</span> <span class=n>get_db_connection</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=c1># é»˜è®¤æ’åæ•°æ®æº</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>sort_credit</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>sort_credit</span> <span class=o>=</span> <span class=s2>&#34;US_News_best global universities_Rankings&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>join_table</span> <span class=o>=</span> <span class=n>sort_credit</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># æ™ºèƒ½é€»è¾‘ï¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨å›½å®¶ç‰¹å®šçš„æ’åè¡¨</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>country</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>candidate_country</span> <span class=o>=</span> <span class=n>country</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>candidate_table</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;US_News_best global universities in </span><span class=si>{</span><span class=n>candidate_country</span><span class=si>}</span><span class=s2>_Rankings&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1># ... (æ£€æŸ¥è¯¥è¡¨æ˜¯å¦åœ¨æ•°æ®åº“ä¸­å­˜åœ¨) ...</span>
</span></span><span class=line><span class=cl>        <span class=c1># è‹¥å­˜åœ¨ï¼Œåˆ‡æ¢åˆ°å›½å®¶ç‰¹å®šè¡¨</span>
</span></span><span class=line><span class=cl>        <span class=n>join_table</span> <span class=o>=</span> <span class=n>candidate_table</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># åŸºç¡€æŸ¥è¯¢</span>
</span></span><span class=line><span class=cl>    <span class=n>sql</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>        SELECT Universities.id, Universities.normalized_name, Universities.name,
</span></span></span><span class=line><span class=cl><span class=s2>               Universities.country, Universities.city, Universities.photo,
</span></span></span><span class=line><span class=cl><span class=s2>               R.rank_value, T.chinese_name
</span></span></span><span class=line><span class=cl><span class=s2>        FROM Universities
</span></span></span><span class=line><span class=cl><span class=s2>        LEFT JOIN University_names_en_to_zh AS T ON Universities.id = T.id
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># åŠ¨æ€è”æ¥</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>join_table</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>sql</span> <span class=o>+=</span> <span class=sa>f</span><span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>            LEFT JOIN &#34;</span><span class=si>{</span><span class=n>join_table</span><span class=si>}</span><span class=s2>&#34; AS R
</span></span></span><span class=line><span class=cl><span class=s2>            ON Universities.normalized_name = R.normalized_name
</span></span></span><span class=line><span class=cl><span class=s2>        &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1># ... (æœç´¢è¯ã€å›½å®¶ã€åŸå¸‚çš„è¿‡æ»¤é€»è¾‘) ...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>sql</span> <span class=o>+=</span> <span class=s2>&#34; ORDER BY R.rank_value ASC NULLS LAST LIMIT 200&#34;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>cursor</span> <span class=o>=</span> <span class=n>conn</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=n>sql</span><span class=p>,</span> <span class=n>params</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>[</span><span class=nb>dict</span><span class=p>(</span><span class=n>row</span><span class=p>)</span> <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()]</span>
</span></span></code></pre></div><h2 id=-ç›¸å…³é“¾æ¥>ğŸ”— ç›¸å…³é“¾æ¥<a hidden class=anchor aria-hidden=true href=#-ç›¸å…³é“¾æ¥>#</a></h2><ul><li><strong>GitHub ä»“åº“</strong>: <a href=https://github.com/xiaruize0911/University_Ranking_Backend>xiaruize0911/University_Ranking_Backend</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/zh/tags/python/>Python</a></li><li><a href=http://localhost:1313/zh/tags/flask/>Flask</a></li><li><a href=http://localhost:1313/zh/tags/backend/>Backend</a></li><li><a href=http://localhost:1313/zh/tags/api/>API</a></li><li><a href=http://localhost:1313/zh/tags/sqlite/>SQLite</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/zh/>xiaruize's Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>